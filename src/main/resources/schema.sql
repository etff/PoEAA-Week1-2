drop table if exists cart cascade;
drop table if exists line_item cascade;
drop table if exists option cascade;
drop table if exists product cascade;
create table cart (id bigint generated by default as identity, primary key (id));
create table line_item (quantity integer, cart_id bigint not null, id bigint generated by default as identity, option_id bigint, product_id bigint, primary key (id));
create table option (id bigint generated by default as identity, product_id bigint not null, primary key (id));
create table product (id bigint generated by default as identity, product_name varchar(255), primary key (id));
alter table if exists line_item add constraint line_item_cart foreign key (cart_id) references cart;
alter table if exists option add constraint option_product foreign key (product_id) references product;
insert into product (id, product_name) values (1, 'product1');
insert into product (id, product_name) values (2, 'product2');
insert into option (id, product_id) values (1, 1);
insert into option (id, product_id) values (2, 1);
insert into option (id, product_id) values (3, 2);
